# YaNews — новостной сайт с комментариями

## Описание проекта

YaNews — это новостной сайт с возможностью комментирования. Проект включает набор тестов на `pytest`, которые проверяют ключевую функциональность приложения.

## Структура тестов

### `test_routes.py`

Проверяет доступность и защиту маршрутов:

- главная страница доступна анонимному пользователю;
- страница отдельной новости доступна анонимному пользователю;
- страницы удаления и редактирования комментария доступны только автору;
- анонимный пользователь перенаправляется на страницу авторизации при попытке редактирования или удаления комментария;
- авторизованный пользователь получает ошибку `404` при попытке редактировать или удалять чужие комментарии;
- страницы регистрации, входа и выхода доступны анонимным пользователям.

### `test_content.py`

Проверяет содержание и отображение данных:

- на главной странице не более 10 новостей;
- новости отсортированы от свежих к старым;
- комментарии отсортированы от старых к новым;
- форма комментариев доступна только авторизованным пользователям.

### `test_logic.py`

Проверяет бизнес‑логику взаимодействия с комментариями:

- анонимный пользователь не может отправлять комментарии;
- авторизованный пользователь может отправлять комментарии;
- комментарии с запрещёнными словами не публикуются;
- авторизованный пользователь может редактировать и удалять свои комментарии;
- авторизованный пользователь не может редактировать или удалять чужие комментарии.

## Что проверяют тесты

### Доступность страниц

- все пользователи могут читать новости;
- комментировать могут только авторизованные пользователи;
- редактировать и удалять комментарии может только их автор.

### Бизнес‑логика

- фильтрация запрещённых слов в комментариях;
- правильная сортировка новостей и комментариев;
- ограничение на количество новостей на главной странице.

### Безопасность

- защита от несанкционированного доступа;
- правильные редиректы для анонимных пользователей;
- ошибка `404` при попытке доступа к чужому контенту.

Создайте виртуальное окружение:

bash
python -m venv env
Активируйте его:

для Linux/macOS:

bash
source env/bin/activate
для Windows:

bash
env\Scripts\activate
Установите зависимости:

bash
pip install -r requirements.txt
Настройте базу данных:

bash
python manage.py migrate
python manage.py loaddata news.json
Запустите тесты:

bash
pytest
Технологии
Python;

Django;

pytest;

SQLite3.

Особенности
Тесты написаны на pytest (вместо unittest).

Используются фикстуры для подготовки данных.

Применяется параметризация для проверки разных сценариев.

Включены интеграционные тесты для проверки взаимодействия компонентов.


