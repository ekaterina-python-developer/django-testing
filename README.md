YaNews - Тесты на pytest
Описание проекта
YaNews - новостной сайт с комментариями. Проект включает тесты на pytest, которые проверяют ключевую функциональность приложения.

Структура тестов
test_routes.py
Главная страница доступна анонимному пользователю

Страница отдельной новости доступна анонимному пользователю

Страницы удаления и редактирования комментария доступны автору

Анонимный пользователь перенаправляется на авторизацию при попытке редактирования/удаления

Авторизованный пользователь получает 404 при попытке редактировать/удалить чужие комментарии

Страницы регистрации, входа и выхода доступны анонимным пользователям

test_content.py
На главной странице не более 10 новостей

Новости отсортированы от свежих к старым

Комментарии отсортированы от старых к новым

Форма комментариев доступна только авторизованным пользователям

test_logic.py
Анонимный пользователь не может отправлять комментарии

Авторизованный пользователь может отправлять комментарии

Комментарии с запрещенными словами не публикуются

Авторизованный пользователь может редактировать/удалять свои комментарии

Авторизованный пользователь не может редактировать/удалять чужие комментарии

Быстрый запуск
bash
# Клонирование проекта
git clone git@github.com:dariazueva/ya_news.git
cd ya_news

# Создание виртуального окружения
python -m venv env
source env/bin/activate  # Linux/macOS
# или
env\Scripts\activate     # Windows

# Установка зависимостей
pip install -r requirements.txt

# Настройка базы данных
python manage.py migrate
python manage.py loaddata news.json

# Запуск тестов
pytest
Что проверяют тесты
Доступность страниц
Все пользователи могут читать новости

Только авторизованные могут комментировать

Только автор может редактировать/удалять свои комментарии

Бизнес-логика
Фильтрация запрещенных слов в комментариях

Правильная сортировка новостей и комментариев

Ограничения на количество новостей

Безопасность
Защита от несанкционированного доступа

Правильные редиректы для анонимных пользователей

Ошибка 404 при попытке доступа к чужому контенту

Технологии
Python

Django

pytest

SQLite3

Особенности
Тесты написаны на pytest (вместо unittest)

Используются фикстуры для подготовки данных

Параметризация для проверки разных сценариев

Интеграционные тесты для проверки взаимодействия компонентов
